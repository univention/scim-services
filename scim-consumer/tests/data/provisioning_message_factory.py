# SPDX-License-Identifier: AGPL-3.0-only
# SPDX-FileCopyrightText: 2025 Univention GmbH
import datetime

from univention.provisioning.models.queue import ProvisioningMessage


def get_provisioning_message_data(data_type: str):
    user_create = {
        "body": {
            "new": {
                "dn": "uid=testuser,cn=users,dc=univention-organization,dc=intranet",
                "id": "testuser",
                "objectType": "users/user",
                "options": {"pki": False},
                "policies": {"policies/desktop": [], "policies/pwhistory": [], "policies/umc": []},
                "position": "cn=users,dc=univention-organization,dc=intranet",
                "properties": {
                    "accountActivationDate": {
                        "activation-date": None,
                        "activation-time": None,
                        "activation-timezone": "Etc/UTC",
                    },
                    "birthday": None,
                    "city": None,
                    "country": None,
                    "departmentNumber": [],
                    "description": None,
                    "disabled": False,
                    "displayName": "Test User",
                    "e-mail": [],
                    "employeeNumber": None,
                    "employeeType": None,
                    "firstname": "Test",
                    "gecos": "testuser",
                    "gidNumber": 5001,
                    "groups": [],
                    "guardianInheritedRoles": [],
                    "guardianRoles": [],
                    "homePostalAddress": [],
                    "homeShare": None,
                    "homeSharePath": "testuser",
                    "homeTelephoneNumber": [],
                    "homedrive": None,
                    "initials": None,
                    "jpegPhoto": None,
                    "lastname": "User",
                    "locked": False,
                    "lockedTime": "0",
                    "mailAlternativeAddress": [],
                    "mailForwardAddress": [],
                    "mailForwardCopyToSelf": "0",
                    "mailHomeServer": None,
                    "mailPrimaryAddress": None,
                    "mobileTelephoneNumber": [],
                    "objectFlag": [],
                    "organisation": None,
                    "overridePWHistory": None,
                    "overridePWLength": None,
                    "pagerTelephoneNumber": [],
                    "password": None,
                    "passwordexpiry": None,
                    "phone": [],
                    "physicalDeliveryOfficeName": None,
                    "postOfficeBox": [],
                    "postcode": None,
                    "preferredDeliveryMethod": None,
                    "preferredLanguage": None,
                    "primaryGroup": "cn=Domain Users,cn=groups,dc=univention-organization,dc=intranet",
                    "profilepath": None,
                    "pwdChangeNextLogin": False,
                    "roomNumber": [],
                    "sambaLogonHours": None,
                    "sambaPrivileges": [],
                    "sambaRID": 5006,
                    "sambaUserWorkstations": [],
                    "sambahome": None,
                    "scriptpath": None,
                    "secretary": [],
                    "shell": "/bin/bash",
                    "state": None,
                    "street": None,
                    "title": None,
                    "uidNumber": 2003,
                    "umcProperty": {},
                    "univentionObjectIdentifier": "ffffffff-ffff-ffff-ffff-ffffffffffff",
                    "univentionSourceIAM": None,
                    "unixhome": "/home/testuser",
                    "unlock": False,
                    "unlockTime": "",
                    "userexpiry": None,
                    "username": "testuser.create",
                },
                "uuid": "00000000-0000-0000-0000-000000000000",
            },
            "old": {},
        },
        "num_delivered": 1,
        "publisher_name": "udm-listener",
        "realm": "udm",
        "sequence_number": 17,
        "topic": "users/user",
        "ts": datetime.datetime(2025, 5, 27, 13, 3, 32, 529129),
    }

    user_update = {
        "body": {
            "new": {
                "dn": "uid=testuser,cn=users,dc=univention-organization,dc=intranet",
                "id": "testuser",
                "objectType": "users/user",
                "options": {"pki": False},
                "policies": {"policies/desktop": [], "policies/pwhistory": [], "policies/umc": []},
                "position": "cn=users,dc=univention-organization,dc=intranet",
                "properties": {
                    "accountActivationDate": {
                        "activation-date": None,
                        "activation-time": None,
                        "activation-timezone": "Etc/UTC",
                    },
                    "birthday": None,
                    "city": None,
                    "country": None,
                    "departmentNumber": [],
                    "description": None,
                    "disabled": False,
                    "displayName": "Test User",
                    "e-mail": [],
                    "employeeNumber": None,
                    "employeeType": None,
                    "firstname": "Test",
                    "gecos": "testuser",
                    "gidNumber": 5001,
                    "groups": ["cn=Domain Users,cn=groups,dc=univention-organization,dc=intranet"],
                    "guardianInheritedRoles": [],
                    "guardianRoles": [],
                    "homePostalAddress": [],
                    "homeShare": None,
                    "homeSharePath": "testuser",
                    "homeTelephoneNumber": [],
                    "homedrive": None,
                    "initials": None,
                    "jpegPhoto": None,
                    "lastname": "User",
                    "locked": False,
                    "lockedTime": "0",
                    "mailAlternativeAddress": [],
                    "mailForwardAddress": [],
                    "mailForwardCopyToSelf": "0",
                    "mailHomeServer": None,
                    "mailPrimaryAddress": None,
                    "mobileTelephoneNumber": [],
                    "objectFlag": [],
                    "organisation": None,
                    "overridePWHistory": None,
                    "overridePWLength": None,
                    "pagerTelephoneNumber": [],
                    "password": None,
                    "passwordexpiry": None,
                    "phone": [],
                    "physicalDeliveryOfficeName": None,
                    "postOfficeBox": [],
                    "postcode": None,
                    "preferredDeliveryMethod": None,
                    "preferredLanguage": None,
                    "primaryGroup": "cn=Domain Users,cn=groups,dc=univention-organization,dc=intranet",
                    "profilepath": None,
                    "pwdChangeNextLogin": False,
                    "roomNumber": [],
                    "sambaLogonHours": None,
                    "sambaPrivileges": [],
                    "sambaRID": 5006,
                    "sambaUserWorkstations": [],
                    "sambahome": None,
                    "scriptpath": None,
                    "secretary": [],
                    "shell": "/bin/bash",
                    "state": None,
                    "street": None,
                    "title": None,
                    "uidNumber": 2003,
                    "umcProperty": {},
                    "univentionObjectIdentifier": "ffffffff-ffff-ffff-ffff-ffffffffffff",
                    "univentionSourceIAM": None,
                    "unixhome": "/home/testuser",
                    "unlock": False,
                    "unlockTime": "",
                    "userexpiry": None,
                    "username": "testuser.update",
                },
                "uuid": "00000000-0000-0000-0000-000000000000",
            },
            "old": {
                "dn": "uid=testuser,cn=users,dc=univention-organization,dc=intranet",
                "id": "testuser",
                "objectType": "users/user",
                "options": {"pki": False},
                "policies": {"policies/desktop": [], "policies/pwhistory": [], "policies/umc": []},
                "position": "cn=users,dc=univention-organization,dc=intranet",
                "properties": {
                    "accountActivationDate": {
                        "activation-date": None,
                        "activation-time": None,
                        "activation-timezone": "Etc/UTC",
                    },
                    "birthday": None,
                    "city": None,
                    "country": None,
                    "departmentNumber": [],
                    "description": None,
                    "disabled": False,
                    "displayName": "Test User",
                    "e-mail": [],
                    "employeeNumber": None,
                    "employeeType": None,
                    "firstname": "Test",
                    "gecos": "testuser",
                    "gidNumber": 5001,
                    "groups": [],
                    "guardianInheritedRoles": [],
                    "guardianRoles": [],
                    "homePostalAddress": [],
                    "homeShare": None,
                    "homeSharePath": "testuser",
                    "homeTelephoneNumber": [],
                    "homedrive": None,
                    "initials": None,
                    "jpegPhoto": None,
                    "lastname": "User",
                    "locked": False,
                    "lockedTime": "0",
                    "mailAlternativeAddress": [],
                    "mailForwardAddress": [],
                    "mailForwardCopyToSelf": "0",
                    "mailHomeServer": None,
                    "mailPrimaryAddress": None,
                    "mobileTelephoneNumber": [],
                    "objectFlag": [],
                    "organisation": None,
                    "overridePWHistory": None,
                    "overridePWLength": None,
                    "pagerTelephoneNumber": [],
                    "password": None,
                    "passwordexpiry": None,
                    "phone": [],
                    "physicalDeliveryOfficeName": None,
                    "postOfficeBox": [],
                    "postcode": None,
                    "preferredDeliveryMethod": None,
                    "preferredLanguage": None,
                    "primaryGroup": "cn=Domain Users,cn=groups,dc=univention-organization,dc=intranet",
                    "profilepath": None,
                    "pwdChangeNextLogin": False,
                    "roomNumber": [],
                    "sambaLogonHours": None,
                    "sambaPrivileges": [],
                    "sambaRID": 5006,
                    "sambaUserWorkstations": [],
                    "sambahome": None,
                    "scriptpath": None,
                    "secretary": [],
                    "shell": "/bin/bash",
                    "state": None,
                    "street": None,
                    "title": None,
                    "uidNumber": 2003,
                    "umcProperty": {},
                    "univentionObjectIdentifier": "ffffffff-ffff-ffff-ffff-ffffffffffff",
                    "univentionSourceIAM": None,
                    "unixhome": "/home/testuser",
                    "unlock": False,
                    "unlockTime": "",
                    "userexpiry": None,
                    "username": "testuser.create",
                },
                "uuid": "00000000-0000-0000-0000-000000000000",
            },
        },
        "num_delivered": 1,
        "publisher_name": "udm-listener",
        "realm": "udm",
        "sequence_number": 19,
        "topic": "users/user",
        "ts": datetime.datetime(2025, 5, 27, 13, 3, 32, 950839),
    }

    user_delete = {
        "body": {
            "new": {},
            "old": {
                "dn": "uid=testuser,cn=users,dc=univention-organization,dc=intranet",
                "id": "testuser",
                "objectType": "users/user",
                "options": {"pki": False},
                "policies": {"policies/desktop": [], "policies/pwhistory": [], "policies/umc": []},
                "position": "cn=users,dc=univention-organization,dc=intranet",
                "properties": {
                    "accountActivationDate": {
                        "activation-date": None,
                        "activation-time": None,
                        "activation-timezone": "Etc/UTC",
                    },
                    "birthday": None,
                    "city": None,
                    "country": None,
                    "departmentNumber": [],
                    "description": None,
                    "disabled": False,
                    "displayName": "Test User",
                    "e-mail": [],
                    "employeeNumber": None,
                    "employeeType": None,
                    "firstname": "Test",
                    "gecos": "testuser",
                    "gidNumber": 5001,
                    "groups": ["cn=Domain Users,cn=groups,dc=univention-organization,dc=intranet"],
                    "guardianInheritedRoles": [],
                    "guardianRoles": [],
                    "homePostalAddress": [],
                    "homeShare": None,
                    "homeSharePath": "testuser",
                    "homeTelephoneNumber": [],
                    "homedrive": None,
                    "initials": None,
                    "jpegPhoto": None,
                    "lastname": "User",
                    "locked": False,
                    "lockedTime": "0",
                    "mailAlternativeAddress": [],
                    "mailForwardAddress": [],
                    "mailForwardCopyToSelf": "0",
                    "mailHomeServer": None,
                    "mailPrimaryAddress": None,
                    "mobileTelephoneNumber": [],
                    "objectFlag": [],
                    "organisation": None,
                    "overridePWHistory": None,
                    "overridePWLength": None,
                    "pagerTelephoneNumber": [],
                    "password": None,
                    "passwordexpiry": None,
                    "phone": [],
                    "physicalDeliveryOfficeName": None,
                    "postOfficeBox": [],
                    "postcode": None,
                    "preferredDeliveryMethod": None,
                    "preferredLanguage": None,
                    "primaryGroup": "cn=Domain Users,cn=groups,dc=univention-organization,dc=intranet",
                    "profilepath": None,
                    "pwdChangeNextLogin": False,
                    "roomNumber": [],
                    "sambaLogonHours": None,
                    "sambaPrivileges": [],
                    "sambaRID": 5006,
                    "sambaUserWorkstations": [],
                    "sambahome": None,
                    "scriptpath": None,
                    "secretary": [],
                    "shell": "/bin/bash",
                    "state": None,
                    "street": None,
                    "title": None,
                    "uidNumber": 2003,
                    "umcProperty": {},
                    "univentionObjectIdentifier": "ffffffff-ffff-ffff-ffff-ffffffffffff",
                    "univentionSourceIAM": None,
                    "unixhome": "/home/testuser",
                    "unlock": False,
                    "unlockTime": "",
                    "userexpiry": None,
                    "username": "testuser.update",
                },
                "uuid": "00000000-0000-0000-0000-000000000000",
            },
        },
        "num_delivered": 1,
        "publisher_name": "udm-listener",
        "realm": "udm",
        "sequence_number": 20,
        "topic": "users/user",
        "ts": datetime.datetime(2025, 5, 27, 13, 3, 38, 513962),
    }

    return {"user_create": user_create, "user_update": user_update, "user_delete": user_delete}.get(data_type)


def get_provisioning_message(data_type: str) -> ProvisioningMessage:
    pm = ProvisioningMessage(**get_provisioning_message_data(data_type))
    return pm
